{"version":3,"sources":["../src/react-avatar-image-cropper.js"],"names":["SliderBtn","props","ifMobile","test","navigator","userAgent","sliderW","offsetLeft","sliderStyle","width","maxWidth","height","backgroundColor","position","border","boxShadow","sliderBtnStyle","zIndex","top","borderRadius","left","cursor","_onStart","e","document","addEventListener","_onMove","_onUp","preventDefault","x","touches","clientX","relX","setState","resize","removeEventListener","state","ele","findDOMNode","offsetWidth","getBoundingClientRect","children","AvatarImageCropper","color","isBack","iconStyle","display","fill","userSelect","textStyle","fontSize","rootStyle","textAlign","alignItems","justifyContent","overflow","inputStyle","bottom","right","opacity","previewStyle","backgroundRepeat","backgroundPosition","cropStyle","avatarStyle","sliderConStyle","sliderChildrenDiv","btnStyle","fontWeight","whiteSpace","verticalAlign","margin","cancelBtnStyle","borderColor","applyBtnStyle","filename","avatar2D","ratio","img2D","origin","img","onDrop","evt","fileList","target","files","acceptedFiles","maxsize","file","ifImage","type","indexOf","size","push","src","window","URL","createObjectURL","Image","onload","sizeW","sizeH","Math","ceil","errorMsg","preview","errorHandler","length","name","_onMouseDown","y","clientY","relY","_onMouseUp","_resize","val","avW","avH","_apply","crop_canvas","createElement","getContext","drawImage","toBlob","blob","value","apply","_cancel","cancel","offsetHeight","flexDirection","actions","map","key","res","cloneElement","onClick","className","noWaterMark","icon","text","backgroundImage","backgroundSize","minWidth","propTypes","bool","node","string","array","number","object","func","view","Uint8Array","HTMLCanvasElement","canvas_proto","prototype","is_base64_regex","to_data_url","base64_ranks","decode_base64","base64","len","buffer","i","outptr","last","save","rank","code","undef","charCodeAt","toBlobHD","callback","mozGetAsFile","msToBlob","args","Array","slice","call","arguments","dataURI","header_end","data","substring","is_base64","Blob","fake","encoding","decodeURIComponent","toDataURLHD","self","content"],"mappings":"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","file":"react-avatar-image-cropper.js","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SliderBtn extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            relX: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        var ele = ReactDOM.findDOMNode(this);\r\n        this.sliderW = ele.offsetWidth;\r\n        this.offsetLeft = ele.getBoundingClientRect().left\r\n        if (this.ifMobile) {\r\n            ele.children[0].addEventListener('touchstart', this._onStart)\r\n        } else {\r\n            ele.children[0].addEventListener('mousedown', this._onStart)\r\n        }\r\n    }\r\n\r\n    ifMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n    sliderW = 0;\r\n    offsetLeft = 0;\r\n\r\n    sliderStyle = {\r\n        width: '90%',\r\n        maxWidth: '250px',\r\n        height: '7px',\r\n        backgroundColor: '#e6ecf0',\r\n        position: 'relative',\r\n        border: 0,\r\n        boxShadow: 'inset 0 0 3px rgba(0,0,0,0.15)',\r\n    }\r\n\r\n    sliderBtnStyle = {\r\n        position: 'absolute',\r\n        zIndex: '2',\r\n        width: '16px',\r\n        height: '16px',\r\n        top: '-5px',\r\n        borderRadius: '50%',\r\n        backgroundColor: '#fff',\r\n        left: '0%',\r\n        cursor: 'pointer',\r\n        boxShadow: '0 0 3px rgba(0,0,0,0.1)',\r\n        border: '1px solid #c5c5c5'\r\n    }\r\n\r\n    _onStart = (e) => {\r\n        if (this.ifMobile) {\r\n            document.addEventListener('touchmove', this._onMove);\r\n            document.addEventListener('touchend', this._onUp);\r\n        } else {\r\n            document.addEventListener('mousemove', this._onMove);\r\n            document.addEventListener('mouseup', this._onUp);\r\n        }\r\n\r\n        e.preventDefault();\r\n    }\r\n    _onMove = (e) => {\r\n        var x = this.ifMobile ? e.touches[0].clientX : e.clientX;\r\n        var relX = (x - this.offsetLeft) / this.sliderW * 100;\r\n        relX = relX > 100 ? 100 : relX;\r\n        relX = relX < 0 ? 0 : relX;\r\n        this.setState({\r\n            relX: relX\r\n        })\r\n        this.props.resize(relX);\r\n        e.preventDefault();\r\n    }\r\n    _onUp = (e) => {\r\n        if (this.ifMobile) {\r\n            document.removeEventListener('touchmove', this._onMove);\r\n            document.removeEventListener('touchend', this._onUp);\r\n        } else {\r\n            document.removeEventListener('mousemove', this._onMove);\r\n            document.removeEventListener('mouseup', this._onUp);\r\n        }\r\n        e.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ ...this.sliderStyle }}>\r\n                <span style={{ ...this.sliderBtnStyle, left: this.state.relX + '%' }}\r\n                ></span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass AvatarImageCropper extends Component {\r\n    static propTypes = {\r\n        /**\r\n         * Should be used to determine if has background.\r\n         */\r\n        isBack: PropTypes.bool,\r\n        /**\r\n         * Should be used to determine if has water mark.\r\n         */\r\n        noWaterMark: PropTypes.bool,\r\n        /**\r\n         * Should be used to pass `icon` components.\r\n         */\r\n        icon: PropTypes.node,\r\n        /**\r\n        * Should be used to pass text.\r\n        */\r\n        text: PropTypes.string,\r\n        /**\r\n         * Should be used to pass `actions` array of components.\r\n         */\r\n        actions: PropTypes.array,\r\n        /**\r\n         * Should be used to for file maxsize.\r\n         */\r\n        maxsize: PropTypes.number,\r\n        /**\r\n         * The css class name of the root element.\r\n         */\r\n        className: PropTypes.string,\r\n        /**\r\n         * Override the inline-styles of the initial icon style.\r\n         */\r\n        iconStyle: PropTypes.object,\r\n        /**\r\n         * Override the inline-styles of the initial text style.\r\n         */\r\n        textStyle: PropTypes.object,\r\n        /**\r\n         * Override the inline-styles of the root element.\r\n         */\r\n        rootStyle: PropTypes.object,\r\n        /**\r\n         * Override the inline-styles of the slider conatiner.\r\n         */\r\n        sliderConStyle: PropTypes.object,\r\n        /**\r\n        * Override the inline-styles of the cancel button.\r\n        */\r\n        cancelBtnStyle: PropTypes.object,\r\n        /**\r\n        * Override the inline-styles of the apply button.\r\n        */\r\n        applyBtnStyle: PropTypes.object,\r\n        /**\r\n         * Called when apply clicked\r\n         */\r\n        apply: PropTypes.func,\r\n        /**\r\n         * Called when canceled.\r\n         */\r\n        cancel: PropTypes.func,\r\n        /**\r\n         * error with file.\r\n         */\r\n        errorHandler: PropTypes.func,\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            preview: null,\r\n            x: 0,\r\n            y: 0,\r\n            relX: 0,\r\n            relY: 0,\r\n            sizeW: 0,\r\n            sizeH: 0,\r\n            errorMsg: ''\r\n        }\r\n    }\r\n    color = this.props.isBack ? '#ffffff' : 'rgba(148,148,148,1)';\r\n\r\n    ifMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n\r\n    iconStyle = {\r\n        display: 'inline-block',\r\n        color: this.color,\r\n        fill: 'currentcolor',\r\n        height: 32,\r\n        width: 32,\r\n        userSelect: 'none'\r\n    };\r\n\r\n    textStyle = {\r\n        color: this.color,\r\n        fontSize: '18px'\r\n    };\r\n\r\n    rootStyle = {\r\n        textAlign: 'center',\r\n        height: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        position: 'relative',\r\n        overflow: 'hidden'\r\n    };\r\n\r\n    inputStyle = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        opacity: 0,\r\n        height: '100%',\r\n        zIndex: 8,\r\n        width: '100%',\r\n        cursor: 'pointer'\r\n    };\r\n\r\n    previewStyle = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        zIndex: 9,\r\n        backgroundRepeat: 'no-repeat',\r\n        cursor: 'move',\r\n        backgroundPosition: '0% 0%'\r\n    }\r\n\r\n    cropStyle = {\r\n        height: '100%',\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: 'rgba(0,0,0,0.5)'\r\n    }\r\n\r\n    avatarStyle = {\r\n        height: '100%',\r\n        display: 'block',\r\n        position: 'relative',\r\n        backgroundColor: this.props.isBack ? 'rgba(0,0,0,0.4)' : 'transparent'\r\n    }\r\n\r\n    sliderConStyle = {\r\n        position: 'absolute',\r\n        top: '100%',\r\n        right: 0,\r\n        left: 0,\r\n        zIndex: 9,\r\n        backgroundColor: '#222',\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    }\r\n\r\n    sliderChildrenDiv = {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        maxWidth: '600px',\r\n        width: '100%'\r\n    }\r\n\r\n    btnStyle = {\r\n        display: 'inline-block',\r\n        fontSize: '14px',\r\n        fontWeight: 400,\r\n        textAlign: 'center',\r\n        whiteSpace: 'nowrap',\r\n        verticalAlign: 'middle',\r\n        cursor: 'pointer',\r\n        border: '1px solid transparent',\r\n        borderRadius: '4px',\r\n        margin: '5px'\r\n    }\r\n    cancelBtnStyle = {\r\n        ...this.btnStyle,\r\n        color: '#333',\r\n        backgroundColor: '#fff',\r\n        borderColor: '#ccc',\r\n    }\r\n\r\n\r\n    applyBtnStyle = {\r\n        ...this.btnStyle,\r\n        color: '#fff',\r\n        backgroundColor: '#5cb85c',\r\n        borderColor: '#4cae4c'\r\n    }\r\n\r\n    ele = null;\r\n    filename = '';\r\n    avatar2D = {\r\n        width: 0,\r\n        height: 0,\r\n        ratio: 0\r\n    }\r\n    img2D = {\r\n        width: 0,\r\n        height: 0,\r\n        ratio: 0\r\n    }\r\n    origin = {\r\n        width: 0,\r\n        height: 0\r\n    }\r\n    img = null\r\n\r\n\r\n    componentDidMount() {\r\n        this.ele = ReactDOM.findDOMNode(this);\r\n        this.avatar2D.width = this.ele.offsetWidth;\r\n        this.avatar2D.height = this.ele.offsetHeight;\r\n        if (this.avatar2D.width < 200) {\r\n            this.sliderChildrenDiv = { ...this.sliderChildrenDiv, flexDirection: 'column' }\r\n        }\r\n    }\r\n\r\n    onDrop = (evt) => {\r\n        var fileList = evt.target.files\r\n        var acceptedFiles = [];\r\n        var maxsize = this.props.maxsize\r\n            ? this.props.maxsize\r\n            : 1024 * 1024 * 2;\r\n        var file = fileList[0];\r\n        if (!file) {\r\n            return\r\n        }\r\n        var ifImage = file.type.indexOf('png') >= 0 || file.type.indexOf('jpg') >= 0 || file.type.indexOf('jpeg') >= 0;\r\n\r\n        if (ifImage && file.size <= maxsize) {\r\n            acceptedFiles.push(file);\r\n            var src = window.URL.createObjectURL(file);\r\n            var img = new Image();\r\n            img.src = src;\r\n            img.onload = () => {\r\n                this.img = img;\r\n                this.img2D.width = img.width;\r\n                this.img2D.height = img.height;\r\n                this.img2D.ratio = img.width / img.height;\r\n                var sizeW = this.img2D.ratio >= 1 ? this.avatar2D.height * this.img2D.ratio : this.avatar2D.width;\r\n                sizeW = sizeW < this.avatar2D.width ? this.avatar2D.width : sizeW\r\n                var sizeH = sizeW / this.img2D.ratio;\r\n                this.setState({\r\n                    sizeW: Math.ceil(sizeW),\r\n                    sizeH: sizeH,\r\n                    errorMsg: ''\r\n                })\r\n                this.origin = {\r\n                    width: sizeW,\r\n                    height: sizeH\r\n                }\r\n            };\r\n\r\n            file.preview = src;\r\n        } else if (!ifImage) {\r\n            if (this.props.errorHandler) {\r\n                this.props.errorHandler('not_image')\r\n                return;\r\n            } else {\r\n                this.setState({\r\n                    errorMsg: 'Please upload png/jpg/jpeg image'\r\n                })\r\n            }\r\n        } else if (file.size > maxsize) {\r\n            if (this.props.errorHandler) {\r\n                this.props.errorHandler('maxsize')\r\n                return;\r\n            } else {\r\n                this.setState({\r\n                    errorMsg: 'The size of image is too large'\r\n                })\r\n            }\r\n        }\r\n\r\n        if (acceptedFiles.length) {\r\n            this.filename = acceptedFiles[0].name;\r\n            this.setState({ preview: acceptedFiles[0].preview })\r\n\r\n            if (this.props.onDrop) {\r\n                this\r\n                    .props\r\n                    .onDrop(acceptedFiles[0]);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    _onMouseDown = (e) => {\r\n        if (this.ifMobile) {\r\n            this.setState({\r\n                x: e.touches[0].clientX - this.state.relX,\r\n                y: e.touches[0].clientY - this.state.relY\r\n            })\r\n            document.addEventListener('touchmove', this._onMove);\r\n            document.addEventListener('touchend', this._onMouseUp);\r\n        } else {\r\n            this.setState({\r\n                x: e.clientX - this.state.relX,\r\n                y: e.clientY - this.state.relY\r\n            })\r\n            document.addEventListener('mousemove', this._onMove);\r\n            document.addEventListener('mouseup', this._onMouseUp);\r\n        }\r\n\r\n        e.preventDefault();\r\n    }\r\n    _onMove = (e) => {\r\n        var x = this.ifMobile ? e.touches[0].clientX : e.clientX\r\n        var y = this.ifMobile ? e.touches[0].clientY : e.clientY\r\n        var relX = this.state.x - x;\r\n        var relY = this.state.y - y;\r\n        if (relX < this.state.sizeW - this.avatar2D.width && relX > 0) {\r\n            this.setState({\r\n                relX: -relX\r\n            })\r\n        }\r\n        if (relY < this.state.sizeH - this.avatar2D.height && relY > 0) {\r\n            this.setState({\r\n                relY: -relY\r\n            })\r\n        }\r\n\r\n        e.preventDefault();\r\n    }\r\n    _onMouseUp = (e) => {\r\n        if (this.ifMobile) {\r\n            document.removeEventListener('touchmove', this._onMove);\r\n            document.removeEventListener('touchend', this._onMouseUp);\r\n        } else {\r\n            document.removeEventListener('mousemove', this._onMove);\r\n            document.removeEventListener('mouseup', this._onMouseUp);\r\n        }\r\n\r\n        e.preventDefault();\r\n    }\r\n    _resize = (val) => {\r\n        var sizeW = this.origin.width * (1 + val / 50);\r\n        var sizeH = this.origin.height * (1 + val / 50);\r\n        var avW = sizeW - this.avatar2D.width;\r\n        var avH = sizeH - this.avatar2D.height;\r\n        var relX = -this.state.relX > avW ? -avW : this.state.relX\r\n        var relY = -this.state.relY > avH ? -avH : this.state.relY\r\n        this.setState({\r\n            sizeH: sizeH,\r\n            sizeW: sizeW,\r\n            relX: relX,\r\n            relY: relY\r\n        });\r\n    }\r\n    _apply = () => {\r\n        var crop_canvas = document.createElement('canvas');\r\n        crop_canvas.width = this.avatar2D.width;\r\n        crop_canvas.height = this.avatar2D.height;\r\n        var ratio = this.state.sizeW / this.img2D.width;\r\n        crop_canvas.getContext('2d').drawImage(this.img, -this.state.relX / ratio, -this.state.relY / ratio, this.img2D.width, this.img2D.height, 0, 0, this.state.sizeW, this.state.sizeH);\r\n        crop_canvas.toBlob((blob) => {\r\n            this.ele.children[0].children[1].value = \"\"\r\n            this.setState({\r\n                preview: null\r\n            })\r\n            blob.name = this.filename;\r\n            this.props.apply(blob);\r\n        });\r\n\r\n    }\r\n    _cancel = () => {\r\n        this.ele.children[0].children[1].value = \"\"\r\n        this.setState({\r\n            preview: null\r\n        })\r\n        if (this.props.cancel) {\r\n            this.props.cancel();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { relX, relY, sizeW, sizeH } = this.state;\r\n        var actions = this.props.actions ?\r\n            this.props.actions.map((ele, key) => {\r\n                var res = null;\r\n                switch (key) {\r\n                    case 0:\r\n                        res = React.cloneElement(\r\n                            ele,\r\n                            { onClick: this._cancel }\r\n                        );\r\n                        break;\r\n                    case 1:\r\n                        res = React.cloneElement(\r\n                            ele,\r\n                            { onClick: this._apply }\r\n                        );\r\n                    default:\r\n                        break;\r\n                }\r\n                return res\r\n            })\r\n            :\r\n            null\r\n        return (\r\n            <avatar-image class={this.props.className}\r\n                style={{ ...this.avatarStyle, ...this.props.avatarStyle }}>\r\n                <div style={{ ...this.rootStyle, ...this.props.rootStyle }}>\r\n                    <div>\r\n                        {\r\n                            !this.props.noWaterMark &&\r\n                            <div>\r\n                                {this.props.icon\r\n                                    ? this.props.icon\r\n                                    :\r\n                                    (\r\n                                        <svg viewBox=\"0 0 24 24\" style={{ ...this.iconStyle, ...this.props.iconStyle }}>\r\n                                            <circle cx=\"12\" cy=\"12\" r=\"3.2\"></circle>\r\n                                            <path\r\n                                                d=\"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"></path>\r\n                                        </svg>\r\n                                    )\r\n                                }\r\n                                <p style={{ ...this.textStyle, ...this.props.textStyle }}>{this.props.text ? this.props.text : 'Upload photo'}</p>\r\n                            </div>\r\n                        }\r\n\r\n\r\n                        <p style={{ color: 'red' }}>{this.state.errorMsg}</p>\r\n                    </div>\r\n                    <input\r\n                        style={{ ...this.inputStyle }}\r\n                        type='file'\r\n                        accept='image/*'\r\n                        onChange={(e) => {\r\n                            this.onDrop(e)\r\n                        }} />\r\n                    {\r\n                        this.state.preview &&\r\n                        (\r\n                            <div>\r\n                                <div\r\n                                    onMouseDown={this._onMouseDown}\r\n                                    onTouchStart={this._onMouseDown}\r\n                                    style={{\r\n                                        ...this.previewStyle,\r\n                                        backgroundImage: 'url(' + this.state.preview + ')',\r\n                                        backgroundSize: sizeW + 'px ' + sizeH + 'px',\r\n                                        backgroundPosition: '' + relX + 'px ' + relY + 'px'\r\n                                    }}>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        )\r\n                    }\r\n\r\n                </div>\r\n                {\r\n                    this.state.preview &&\r\n                    (\r\n                        <div style={{ ...this.sliderConStyle, ...this.props.sliderConStyle }}>\r\n                            <div style={{ ...this.sliderChildrenDiv, ...this.props.sliderChildrenDiv }}>\r\n                                <div style={{ height: '20px', margin: '5px', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '100%' }}>\r\n                                    <SliderBtn resize={this._resize} />\r\n                                </div>\r\n                                <div name='action-con' style={{ display: 'flex', minWidth: '100px' }}>\r\n                                    {\r\n                                        actions ?\r\n                                            actions\r\n                                            :\r\n                                            [\r\n                                                <button style={{ ...this.cancelBtnStyle, ...this.props.cancelBtnStyle }} key={0} onClick={this._cancel}>\r\n                                                    <svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" />\r\n                                                        <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                                                    </svg>\r\n                                                </button>,\r\n                                                <button style={{ ...this.applyBtnStyle, ...this.props.applyBtnStyle }} key={1} onClick={this._apply}>\r\n                                                    <svg fill=\"#ffffff\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                                                        <path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\" />\r\n                                                    </svg>\r\n                                                </button>\r\n                                            ]\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    )\r\n                }\r\n            </avatar-image>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* canvas-toBlob.js\r\n * A canvas.toBlob() implementation.\r\n * 2016-05-26\r\n * \r\n * By Eli Grey, http://eligrey.com and Devin Samarin, https://github.com/eboyjr\r\n * License: MIT\r\n *   See https://github.com/eligrey/canvas-toBlob.js/blob/master/LICENSE.md\r\n */\r\n\r\n/*global self */\r\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\r\n  plusplus: true */\r\n\r\n/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */\r\n\r\n(function (view) {\r\n    \"use strict\";\r\n    var\r\n        Uint8Array = view.Uint8Array\r\n        , HTMLCanvasElement = view.HTMLCanvasElement\r\n        , canvas_proto = HTMLCanvasElement && HTMLCanvasElement.prototype\r\n        , is_base64_regex = /\\s*;\\s*base64\\s*(?:;|$)/i\r\n        , to_data_url = \"toDataURL\"\r\n        , base64_ranks\r\n        , decode_base64 = function (base64) {\r\n            var\r\n                len = base64.length\r\n                , buffer = new Uint8Array(len / 4 * 3 | 0)\r\n                , i = 0\r\n                , outptr = 0\r\n                , last = [0, 0]\r\n                , state = 0\r\n                , save = 0\r\n                , rank\r\n                , code\r\n                , undef\r\n                ;\r\n            while (len--) {\r\n                code = base64.charCodeAt(i++);\r\n                rank = base64_ranks[code - 43];\r\n                if (rank !== 255 && rank !== undef) {\r\n                    last[1] = last[0];\r\n                    last[0] = code;\r\n                    save = (save << 6) | rank;\r\n                    state++;\r\n                    if (state === 4) {\r\n                        buffer[outptr++] = save >>> 16;\r\n                        if (last[1] !== 61 /* padding character */) {\r\n                            buffer[outptr++] = save >>> 8;\r\n                        }\r\n                        if (last[0] !== 61 /* padding character */) {\r\n                            buffer[outptr++] = save;\r\n                        }\r\n                        state = 0;\r\n                    }\r\n                }\r\n            }\r\n            // 2/3 chance there's going to be some null bytes at the end, but that\r\n            // doesn't really matter with most image formats.\r\n            // If it somehow matters for you, truncate the buffer up outptr.\r\n            return buffer;\r\n        }\r\n        ;\r\n    if (Uint8Array) {\r\n        base64_ranks = new Uint8Array([\r\n            62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1\r\n            , -1, -1, 0, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9\r\n            , 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25\r\n            , -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35\r\n            , 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51\r\n        ]);\r\n    }\r\n    if (HTMLCanvasElement && (!canvas_proto.toBlob || !canvas_proto.toBlobHD)) {\r\n        if (!canvas_proto.toBlob)\r\n            canvas_proto.toBlob = function (callback, type /*, ...args*/) {\r\n                if (!type) {\r\n                    type = \"image/png\";\r\n                } if (this.mozGetAsFile) {\r\n                    callback(this.mozGetAsFile(\"canvas\", type));\r\n                    return;\r\n                } if (this.msToBlob && /^\\s*image\\/png\\s*(?:$|;)/i.test(type)) {\r\n                    callback(this.msToBlob());\r\n                    return;\r\n                }\r\n\r\n                var\r\n                    args = Array.prototype.slice.call(arguments, 1)\r\n                    , dataURI = this[to_data_url].apply(this, args)\r\n                    , header_end = dataURI.indexOf(\",\")\r\n                    , data = dataURI.substring(header_end + 1)\r\n                    , is_base64 = is_base64_regex.test(dataURI.substring(0, header_end))\r\n                    , blob\r\n                    ;\r\n                if (Blob.fake) {\r\n                    // no reason to decode a data: URI that's just going to become a data URI again\r\n                    blob = new Blob\r\n                    if (is_base64) {\r\n                        blob.encoding = \"base64\";\r\n                    } else {\r\n                        blob.encoding = \"URI\";\r\n                    }\r\n                    blob.data = data;\r\n                    blob.size = data.length;\r\n                } else if (Uint8Array) {\r\n                    if (is_base64) {\r\n                        blob = new Blob([decode_base64(data)], { type: type });\r\n                    } else {\r\n                        blob = new Blob([decodeURIComponent(data)], { type: type });\r\n                    }\r\n                }\r\n                callback(blob);\r\n            };\r\n\r\n        if (!canvas_proto.toBlobHD && canvas_proto.toDataURLHD) {\r\n            canvas_proto.toBlobHD = function () {\r\n                to_data_url = \"toDataURLHD\";\r\n                var blob = this.toBlob();\r\n                to_data_url = \"toDataURL\";\r\n                return blob;\r\n            }\r\n        } else {\r\n            canvas_proto.toBlobHD = canvas_proto.toBlob;\r\n        }\r\n    }\r\n}(typeof self !== \"undefined\" && self || typeof window !== \"undefined\" && window || this.content || this));\r\n\r\n\r\nexport default AvatarImageCropper;\r\n\r\n\r\n\r\n"]}